# Lab 8

## Lab_08-1.malware
* What anti-disassembly techniques are used in the binary?
  * A lot of jump indirection to break apart functions
  * Misuses the SEH (Structured Exception Handling)

* What anti-debugging techniques are used in the binary?
  * Counting the number of clock cycles and exiting if it's been running for too long
  * Also calls `IsDebuggerPresent`, and exiting if it returns true.
    * Runs this check twice? Jumps to this call if the clock cycles are too high.

* What does the sample do?
  * Writes a batch file that shuts down the computer and adds it to the Windows Startup folder, so the computer will shut itself down whenever it boots.

## Changes
* Biggest issue about the slides is that they don't talk about patching binaries. You can do it with Ghidra, but it's kind of annoying compared to Binja.
* SEH slides were kind of bare. Found this StackOverflow post that explains it pretty well. https://reverseengineering.stackexchange.com/questions/1911/whats-fs0-doing-and-how-can-i-execute-it-step-by-step

## Malicious Behavior
* Counting number of clock cycles and checking to see if it's running slower than usual - 4?
* Misusing the SEH - 8?
* Calling IsDebuggerPresent - 6 (Some games do this to detect if someone is trying to hack it)
* A lot of jump indirection, where each jump only executes a couple more lines of code

