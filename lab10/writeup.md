## Lab

### Part A

* This part involved installing Visual Studio Professional (requires professional version according to the slides) in order to write a hello world driver
* Unfortunately the professional requirement was not mentioned the previous time that we had to install visual studio, so we all went with the community edition and as such this would require a re-install
  * The installation process last time took several hours
* We decided that the time spent installing the tooling would not be worthwhile for a simple hello world program. However, we think that the DLL injection lab should recommend installing Visual Studio Professional in order to prevent this issue
* Microsoft has a tutorial for making a hello world driver [here](https://docs.microsoft.com/en-us/windows-hardware/drivers/gettingstarted/writing-a-very-small-kmdf--driver), which can be modified slightly using function calls used in Part B to print to Dbgview like the lab asks for



### Lab_10-2.malware

1. What is the address of the malicious function called by DriverEntry?
   * 0x00401100
2. Describe the SIDT and LIDT instructions, what are they used for?
   * SIDT stores the content of the interrupt descriptor table register into a specified memory location
   * LIDT loads the content of a specified memory location into the interrupt descriptor table
   * These instructions can be used to hook calls into the IDT, allowing the rootkit to do more
3. What is the malicious function doing? What is it creating?
   * It creates threads that hook the IDT until every IDT handler has been hooked. This allows every register to be hooked
4. What is this sample doing?
   * It hooks the IDT and has each system call print some debug info such as which CPU it is being run on and the current process id.



## Updates

* The DLL injection lab should be updated to have students install Visual Studio Professional specifically to prevent having to reinstall



## Malicious Behaviors

This lab doesn't really have many malicious behaviors. It simply adds some debugging information to system calls.